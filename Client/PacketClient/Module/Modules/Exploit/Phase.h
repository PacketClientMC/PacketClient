#pragma once
#include "../../ModuleManager.h"
#include "../Module.h"

class Phase : public IModule {
private: 
	bool vertical = false;
	int tick = 0;

	// Hive
	std::vector<std::shared_ptr<AABB>> bufferedChestList;
	int tickSinceTeleport = 0;
	bool tryTeleport = false;
	std::mutex listLock;
public:
	bool worldChanged = false;

	std::string name = "Phase";
	SettingEnum mode = this;

	virtual const char* getRawModuleName() override;
	virtual const char* getModuleName() override;
	virtual void onTick(GameMode* gm) override;
	virtual void onDisable() override;
	virtual void onEnable() override;
	Phase();
};